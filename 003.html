<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <!-- 17.3.3 -->
    <main></main>
    <script>
      const parentEl = document.querySelector('main');
      const frag = document.createDocumentFragment(); // 가상 돔 트리

      for (let i = 0; i < 10; i++) {
        const article = document.createElement('article');
        article.classList.add('parent');
        article.innerHTML = `<figure>
                <img class="figImg"
                    src="https://file.mk.co.kr/meet/neds/2021/07/image_readtop_2021_654175_16256093474708254.jpg"
                    alt="">
                <figcaption class="figCap">
                    유재석씨가 수상식에서 환하게 웃고 있다.
                </figcaption>
            </figure>`;

        // parentEl.append(article);
        frag.append(article);
        // parentEl.appendChild(article);
        // parentEl가 아닌 frag에 article을 붙인다
      }

      parentEl.append(frag.cloneNode(true));
      parentEl.append(frag.cloneNode(true));
      parentEl.append(frag.cloneNode(true));
      // 굳이 frag를 쓰는 이유는 ? parentEl.appendChild(article)를 한다면
      // 브라우저 입장에서는 for문 때문에 렌더링을 반복 작업하게 된다
      // 하지만 가상 돔(메모리 상에만 존재하는) frag 에 붙이게 되면 브라우저가 부담이 덜 된다
    </script>
  </body>
</html>
